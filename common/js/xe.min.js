/*! Copyright (C) NAVER <http://www.navercorp.com> */
/**!
 * @concat modernizr.js + common.js + js_app.js + xml_handler.js + xml_js_filter.js
 * @brief XE Common JavaScript
 **/
function xSleep(e){e/=1e3;for(var t=new Date,n=new Date;n.getTime()-t.getTime()<e;)n=new Date}function isDef(){for(var e=0;e<arguments.length;++e)if("undefined"==typeof arguments[e])return!1;return!0}function winopen(e,t,n){"undefined"!=typeof xeVid&&e.indexOf(request_uri)>-1&&!e.getQuery("vid")&&(e=e.setQuery("vid",xeVid));try{"_blank"!=t&&winopen_list[t]&&(winopen_list[t].close(),winopen_list[t]=null)}catch(r){}"undefined"==typeof t&&(t="_blank"),"undefined"==typeof n&&(n="");var o=window.open(e,t,n);o.focus(),"_blank"!=t&&(winopen_list[t]=o)}function popopen(e,t){"undefined"==typeof t&&(t="_blank"),"undefined"!=typeof xeVid&&e.indexOf(request_uri)>-1&&!e.getQuery("vid")&&(e=e.setQuery("vid",xeVid)),winopen(e,t,"width=800,height=600,scrollbars=yes,resizable=yes,toolbars=no")}function sendMailTo(e){location.href="mailto:"+e}function move_url(e,t){return e?("undefined"==typeof t&&(t="N"),t="N"==t?!1:!0,/^\./.test(e)&&(e=request_uri+e),t?winopen(e):location.href=e,!1):!1}function displayMultimedia(e,t,n,r){var o=_displayMultimedia(e,t,n,r);o&&document.writeln(o)}function _displayMultimedia(e,t,n,r){0===e.indexOf("files")&&(e=request_uri+e);var o={wmode:"transparent",allowScriptAccess:"never",quality:"high",flashvars:"",autostart:!1},i=jQuery.extend(o,r||{}),a=i.autostart&&"false"!=i.autostart?"true":"false";delete i.autostart;var s="";if(/\.(gif|jpg|jpeg|bmp|png)$/i.test(e))s='<img src="'+e+'" width="'+t+'" height="'+n+'" />';else if(/\.flv$/i.test(e)||/\.mov$/i.test(e)||/\.moov$/i.test(e)||/\.m4v$/i.test(e))s='<embed src="'+request_uri+'common/img/flvplayer.swf" allowfullscreen="true" allowscriptaccess="never" autostart="'+a+'" width="'+t+'" height="'+n+'" flashvars="&file='+e+"&width="+t+"&height="+n+"&autostart="+a+'" wmode="'+i.wmode+'" />';else if(/\.swf/i.test(e)){(jQuery.browser.mozilla||jQuery.browser.opera)&&(a=i.autostart&&"false"!=i.autostart?"1":"0");var c="";jQuery.browser.mobile&&(c=' type="text/html"'),s='<embed src="'+e+'"'+c+' allowscriptaccess="never" autostart="'+a+'" width="'+t+'" height="'+n+'"',"transparent"==i.wmode&&(s+=' windowlessvideo="1"'),s+="></embed>"}else(jQuery.browser.mozilla||jQuery.browser.opera)&&(a=i.autostart&&"false"!=i.autostart?"1":"0"),s='<embed src="'+e+'" allowscriptaccess="never" autostart="'+a+'" width="'+t+'" height="'+n+'"',"transparent"==i.wmode&&(s+=' windowlessvideo="1"'),s+="></embed>";return s}function zbxe_folder_open(e){jQuery("#folder_open_"+e).hide(),jQuery("#folder_close_"+e).show(),jQuery("#folder_"+e).show()}function zbxe_folder_close(e){jQuery("#folder_open_"+e).show(),jQuery("#folder_close_"+e).hide(),jQuery("#folder_"+e).hide()}function setFixedPopupSize(){var e,t,n,r,o,i=jQuery,a=i(window),s=i("body>.popup");o=s.css({overflow:"scroll"}).offset(),e=s.width(10).height(1e4).get(0).scrollWidth+2*o.left,t=s.height(10).width(1e4).get(0).scrollHeight+2*o.top,800>e&&(e=800+2*o.left),n=a.width(),r=a.height(),e!=n&&window.resizeBy(e-n,0),t!=r&&window.resizeBy(0,t-r),s.width(e-2*o.left).css({overflow:"",height:""})}function doCallModuleAction(e,t,n){var r={target_srl:n,cur_mid:current_mid,mid:current_mid};exec_xml(e,t,r,completeCallModuleAction)}function completeCallModuleAction(e){"success"!=e.message&&alert(e.message),location.reload()}function completeMessage(e){alert(e.message),location.reload()}function doChangeLangType(e){if("string"==typeof e)setLangType(e);else{var t=e.options[e.selectedIndex].value;setLangType(t)}location.href=location.href.setQuery("l","")}function setLangType(e){var t=new Date;t.setTime(t.getTime()+6048e8),setCookie("lang_type",e,t,"/")}function doDocumentPreview(e){for(var t=e;"FORM"!=t.nodeName;)t=t.parentNode;if("FORM"==t.nodeName){var n=t.getAttribute("editor_sequence"),r=editorGetContent(n),o=(window.open("","previewDocument","toolbars=no,width=700px;height=800px,scrollbars=yes,resizable=yes"),jQuery("#previewDocument"));o.length?o=o[0]:(jQuery('<form id="previewDocument" target="previewDocument" method="post" action="'+request_uri+'"><input type="hidden" name="module" value="document" /><input type="hidden" name="act" value="dispDocumentPreview" /><input type="hidden" name="content" /></form>').appendTo(document.body),o=jQuery("#previewDocument")[0]),o&&(o.content.value=r,o.submit())}}function doDocumentSave(e){var t=e.form.getAttribute("editor_sequence"),n=editorRelKeys[t].content.value;if("undefined"!=typeof t&&t&&"undefined"!=typeof editorRelKeys&&"function"==typeof editorGetContent){var r=editorGetContent(t);editorRelKeys[t].content.value=r}var o={},i=["error","message","document_srl"],a=(e.form.elements,jQuery(e.form).serializeArray());return jQuery.each(a,function(e,t){var n=jQuery.trim(t.value);return n?(/\[\]$/.test(t.name)&&(t.name=t.name.replace(/\[\]$/,"")),void(o[t.name]?o[t.name]+="|@|"+n:o[t.name]=t.value)):!0}),exec_xml("document","procDocumentTempSave",o,completeDocumentSave,i,o,e.form),editorRelKeys[t].content.value=n,!1}function completeDocumentSave(e){jQuery("input[name=document_srl]").eq(0).val(e.document_srl),alert(e.message)}function doDocumentLoad(e){objForSavedDoc=e.form,popopen(request_uri.setQuery("module","document").setQuery("act","dispTempSavedList"))}function doDocumentSelect(e,t){if(!opener||!opener.objForSavedDoc)return void window.close();switch(void 0===t&&(t="document"),t){case"page":var n=opener.current_url;n=n.setQuery("document_srl",e),n="dispPageAdminMobileContentModify"===n.getQuery("act")?n.setQuery("act","dispPageAdminMobileContentModify"):n.setQuery("act","dispPageAdminContentModify"),opener.location.href=n;break;default:opener.location.href=opener.current_url.setQuery("document_srl",e).setQuery("act","dispBoardWrite")}window.close()}function viewSkinInfo(e,t){popopen("./?module=module&act=dispModuleSkinInfo&selected_module="+e+"&skin="+t,"SkinInfo")}function doAddDocumentCart(e){var t=e.value;addedDocument[addedDocument.length]=t,setTimeout(function(){callAddDocumentCart(addedDocument.length)},100)}function callAddDocumentCart(e){if(!(addedDocument.length<1||e!=addedDocument.length)){var t=[];t.srls=addedDocument.join(","),exec_xml("document","procDocumentAddCart",t,null),addedDocument=[]}}function transRGB2Hex(e){if(!e)return e;if(e.indexOf("#")>-1)return e.replace(/^#/,"");if(e.toLowerCase().indexOf("rgb")<0)return e;e=e.replace(/^rgb\(/i,"").replace(/\)$/,""),value_list=e.split(",");for(var t="",n=0;n<value_list.length;n++){var r=parseInt(value_list[n],10).toString(16);1==r.length&&(r="0"+r),t+=r}return t}function toggleSecuritySignIn(){var e=location.href;/https:\/\//i.test(e)?location.href=e.replace(/^https/i,"http"):location.href=e.replace(/^http/i,"https")}function reloadDocument(){location.reload()}function toggleDisplay(e){jQuery("#"+e).toggle()}function svc_folder_open(e){jQuery("#_folder_open_"+e).hide(),jQuery("#_folder_close_"+e).show(),jQuery("#_folder_"+e).show()}function svc_folder_close(e){jQuery("#_folder_open_"+e).show(),jQuery("#_folder_close_"+e).hide(),jQuery("#_folder_"+e).hide()}function open_calendar(e,t,n){"undefined"==typeof t&&(t="");var r="./common/tpl/calendar.php?";e&&(r+="fo_id="+e),t&&(r+="&day_str="+t),n&&(r+="&callback_func="+n),popopen(r,"Calendar")}function createPopupMenu(){}function chkPopupMenu(){}function displayPopupMenu(e,t,n){XE.displayPopupMenu(e,t,n)}function GetObjLeft(e){return jQuery(e).offset().left}function GetObjTop(e){return jQuery(e).offset().top}function replaceOuterHTML(e,t){jQuery(e).replaceWith(t)}function getOuterHTML(e){return jQuery(e).html().trim()}function setCookie(e,t,n,r){var o=e+"="+escape(t)+(n?"; expires="+n.toGMTString():"")+"; path="+(r?r:"/");document.cookie=o}function getCookie(e){var t=document.cookie.match(new RegExp(e+"=(.*?)(?:;|$)"));return t?unescape(t[1]):void 0}function is_def(e){return"undefined"!=typeof e}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function get_by_id(e){return document.getElementById(e)}function xml2json(e,t,n){var r={toObj:function(e){var t={};if(1==e.nodeType){if(n&&e.attributes.length)for(var o=0;o<e.attributes.length;o++)t["@"+e.attributes[o].nodeName]=(e.attributes[o].nodeValue||"").toString();if(e.firstChild){for(var i=0,a=0,s=!1,c=e.firstChild;c;c=c.nextSibling)1==c.nodeType?s=!0:3==c.nodeType&&c.nodeValue.match(/[^ \f\n\r\t\v]/)?i++:4==c.nodeType&&a++;if(s)if(2>i&&2>a){r.removeWhite(e);for(var u=e.firstChild;u;u=u.nextSibling)3==u.nodeType?t=r.escape(u.nodeValue):4==u.nodeType?t=r.escape(u.nodeValue):t[u.nodeName]?t[u.nodeName]instanceof Array?t[u.nodeName][t[u.nodeName].length]=r.toObj(u):t[u.nodeName]=[t[u.nodeName],r.toObj(u)]:t[u.nodeName]=r.toObj(u)}else e.attributes.length?t["#text"]=r.escape(r.innerXml(e)):t=r.escape(r.innerXml(e));else if(i)e.attributes.length?t["#text"]=r.escape(r.innerXml(e)):t=r.escape(r.innerXml(e));else if(a)if(a>1)t=r.escape(r.innerXml(e));else for(var l=e.firstChild;l;l=l.nextSibling)t=r.escape(l.nodeValue)}e.attributes.length||e.firstChild||(t=null)}else 9==e.nodeType?t=r.toObj(e.documentElement):alert("unhandled node type: "+e.nodeType);return t},toJson:function(e,t,n){var o=t?'"'+t+'"':"";if(e instanceof Array){for(var i=0,a=e.length;a>i;i++)e[i]=r.toJson(e[i],"",n+"	");o+=(t?":[":"[")+(e.length>1?"\n"+n+"	"+e.join(",\n"+n+"	")+"\n"+n:e.join(""))+"]"}else if(null===e)o+=(t&&":")+"null";else if("object"==typeof e){var s=[];for(var c in e)s[s.length]=r.toJson(e[c],c,n+"	");o+=(t?":{":"{")+(s.length>1?"\n"+n+"	"+s.join(",\n"+n+"	")+"\n"+n:s.join(""))+"}"}else o+="string"==typeof e?(t&&":")+'"'+e.toString()+'"':(t&&":")+e.toString();return o},innerXml:function(e){var t="";if("innerHTML"in e)t=e.innerHTML;else for(var n=function(e){var t="";if(1==e.nodeType){t+="<"+e.nodeName;for(var r=0;r<e.attributes.length;r++)t+=" "+e.attributes[r].nodeName+'="'+(e.attributes[r].nodeValue||"").toString()+'"';if(e.firstChild){t+=">";for(var o=e.firstChild;o;o=o.nextSibling)t+=n(o);t+="</"+e.nodeName+">"}else t+="/>"}else 3==e.nodeType?t+=e.nodeValue:4==e.nodeType&&(t+="<![CDATA["+e.nodeValue+"]]>");return t},r=e.firstChild;r;r=r.nextSibling)t+=n(r);return t},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var t=e.firstChild;t;)if(3==t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{var n=t.nextSibling;e.removeChild(t),t=n}else 1==t.nodeType?(r.removeWhite(t),t=t.nextSibling):t=t.nextSibling;return e}};9==e.nodeType&&(e=e.documentElement);var o,i=r.toObj(r.removeWhite(e));if("object"==typeof JSON&&jQuery.isFunction(JSON.stringify),1)return o=r.toJson(i,e.nodeName,""),"{"+(t?o.replace(/\t/g,t):o.replace(/\t|\n/g,""))+"}";var a={};return a[e.nodeName]=i,o=JSON.stringify(a)}function filterAlertMessage(e){var t=(e.error,e.message),n=e.act,r=e.redirect_url,o=location.href;"undefined"!=typeof t&&t&&"success"!=t&&alert(t),"undefined"!=typeof n&&n?o=current_url.setQuery("act",n):"undefined"!=typeof r&&r&&(o=r),o==location.href&&(o=o.replace(/#(.*)$/,"")),location.href=o}function procFilter(e,t){return t(e),!1}function legacy_filter(e,t,n,r,o,i,a,s){var c=xe.getApp("Validator")[0],u=jQuery,l=[];return c?(t.elements._filter||u(t).prepend('<input type="hidden" name="_filter" />'),t.elements._filter.value=e,l[0]=e,l[1]=function(e){var c={},l=(e.elements,u(e).serializeArray());return u.each(l,function(e,t){var n=u.trim(t.value),r=t.name;return n&&r?(s[r]&&(r=s[r]),/\[\]$/.test(r)&&(r=r.replace(/\[\]$/,"")),void(c[r]?c[r]+="|@|"+n:c[r]=t.value)):!0}),a&&!confirm(a)?!1:void exec_xml(n,r,c,o,i,c,t)},c.cast("ADD_CALLBACK",l),c.cast("VALIDATE",[t,e]),!1):!1}window.Modernizr=function(e,t,n){function r(e){_.cssText=e}function o(e,t){return r(A.join(e+";")+(t||""))}function i(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var r in e){var o=e[r];if(!a(o,"-")&&_[o]!==n)return"pfx"==t?o:!0}return!1}function c(e,t,r){for(var o in e){var a=t[e[o]];if(a!==n)return r===!1?e[o]:i(a,"function")?a.bind(r||t):a}return!1}function u(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+C.join(r+" ")+r).split(" ");return i(t,"string")||i(t,"undefined")?s(o,t):(o=(e+" "+T.join(r+" ")+r).split(" "),c(o,t,n))}function l(){h.input=function(n){for(var r=0,o=n.length;o>r;r++)D[n[r]]=!!(n[r]in w);return D.list&&(D.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),D}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(e){for(var r,o,i,a=0,s=e.length;s>a;a++)w.setAttribute("type",o=e[a]),r="text"!==w.type,r&&(w.value=b,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&w.style.WebkitAppearance!==n?(g.appendChild(w),i=t.defaultView,r=i.getComputedStyle&&"textfield"!==i.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,g.removeChild(w)):/^(search|tel)$/.test(o)||(r=/^(url|email)$/.test(o)?w.checkValidity&&w.checkValidity()===!1:w.value!=b)),S[e[a]]=!!r;return S}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,f,p="2.8.3",h={},m=!0,g=t.documentElement,v="modernizr",y=t.createElement(v),_=y.style,w=t.createElement("input"),b=":)",x={}.toString,A=" -webkit- -moz- -o- -ms- ".split(" "),E="Webkit Moz O ms",C=E.split(" "),T=E.toLowerCase().split(" "),j={svg:"http://www.w3.org/2000/svg"},k={},S={},D={},L=[],P=L.slice,R=function(e,n,r,o){var i,a,s,c,u=t.createElement("div"),l=t.body,d=l||t.createElement("body");if(parseInt(r,10))for(;r--;)s=t.createElement("div"),s.id=o?o[r]:v+(r+1),u.appendChild(s);return i=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),u.id=v,(l?u:d).innerHTML+=i,d.appendChild(u),l||(d.style.background="",d.style.overflow="hidden",c=g.style.overflow,g.style.overflow="hidden",g.appendChild(d)),a=n(u,e),l?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),g.style.overflow=c),!!a},Q=function(){function e(e,o){o=o||t.createElement(r[e]||"div"),e="on"+e;var a=e in o;return a||(o.setAttribute||(o=t.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(e,""),a=i(o[e],"function"),i(o[e],"undefined")||(o[e]=n),o.removeAttribute(e))),o=null,a}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),O={}.hasOwnProperty;f=i(O,"undefined")||i(O.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return O.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=P.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=t.prototype;var i=new o,a=t.apply(i,n.concat(P.call(arguments)));return Object(a)===a?a:i}return t.apply(e,n.concat(P.call(arguments)))};return r}),k.flexbox=function(){return u("flexWrap")},k.flexboxlegacy=function(){return u("boxDirection")},k.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},k.canvastext=function(){return!(!h.canvas||!i(t.createElement("canvas").getContext("2d").fillText,"function"))},k.webgl=function(){return!!e.WebGLRenderingContext},k.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:R(["@media (",A.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},k.geolocation=function(){return"geolocation"in navigator},k.postmessage=function(){return!!e.postMessage},k.websqldatabase=function(){return!!e.openDatabase},k.indexedDB=function(){return!!u("indexedDB",e)},k.hashchange=function(){return Q("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},k.history=function(){return!(!e.history||!history.pushState)},k.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},k.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},k.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),a(_.backgroundColor,"rgba")},k.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),a(_.backgroundColor,"rgba")||a(_.backgroundColor,"hsla")},k.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(_.background)},k.backgroundsize=function(){return u("backgroundSize")},k.borderimage=function(){return u("borderImage")},k.borderradius=function(){return u("borderRadius")},k.boxshadow=function(){return u("boxShadow")},k.textshadow=function(){return""===t.createElement("div").style.textShadow},k.opacity=function(){return o("opacity:.55"),/^0.55$/.test(_.opacity)},k.cssanimations=function(){return u("animationName")},k.csscolumns=function(){return u("columnCount")},k.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return r((e+"-webkit- ".split(" ").join(t+e)+A.join(n+e)).slice(0,-e.length)),a(_.backgroundImage,"gradient")},k.cssreflections=function(){return u("boxReflect")},k.csstransforms=function(){return!!u("transform")},k.csstransforms3d=function(){var e=!!u("perspective");return e&&"webkitPerspective"in g.style&&R("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},k.csstransitions=function(){return u("transition")},k.fontface=function(){var e;return R('@font-face {font-family:"font";src:url("https://")}',function(n,r){var o=t.getElementById("smodernizr"),i=o.sheet||o.styleSheet,a=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"";e=/src/i.test(a)&&0===a.indexOf(r.split(" ")[0])}),e},k.generatedcontent=function(){var e;return R(["#",v,"{font:0/0 a}#",v,':after{content:"',b,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},k.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n},k.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n},k.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},k.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},k.webworkers=function(){return!!e.Worker},k.applicationcache=function(){return!!e.applicationCache},k.svg=function(){return!!t.createElementNS&&!!t.createElementNS(j.svg,"svg").createSVGRect},k.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==j.svg},k.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(x.call(t.createElementNS(j.svg,"animate")))},k.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(x.call(t.createElementNS(j.svg,"clipPath")))};for(var I in k)f(k,I)&&(d=I.toLowerCase(),h[d]=k[I](),L.push((h[d]?"":"no-")+d));return h.input||l(),h.addTest=function(e,t){if("object"==typeof e)for(var r in e)f(e,r)&&h.addTest(r,e[r]);else{if(e=e.toLowerCase(),h[e]!==n)return h;t="function"==typeof t?t():t,"undefined"!=typeof m&&m&&(g.className+=" modernizr-"+(t?"":"no-")+e),h[e]=t}return h},r(""),y=w=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function o(e){var t=v[e[m]];return t||(t={},g++,e[m]=g,v[g]=t),t}function i(e,n,r){if(n||(n=t),l)return n.createElement(e);r||(r=o(n));var i;return i=r.cache[e]?r.cache[e].cloneNode():h.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),!i.canHaveChildren||p.test(e)||i.tagUrn?i:r.frag.appendChild(i)}function a(e,n){if(e||(e=t),l)return e.createDocumentFragment();n=n||o(e);for(var i=n.frag.cloneNode(),a=0,s=r(),c=s.length;c>a;a++)i.createElement(s[a]);return i}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?i(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function c(e){e||(e=t);var r=o(e);return!y.shivCSS||u||r.hasCSS||(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||s(e,r),e}var u,l,d="3.7.0",f=e.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",g=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,l=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){u=!0,l=!0}}();var y={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:f.shivCSS!==!1,supportsUnknownElements:l,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:c,createElement:i,createDocumentFragment:a};e.html5=y,c(t)}(this,t),h._version=p,h._prefixes=A,h._domPrefixes=T,h._cssomPrefixes=C,h.hasEvent=Q,h.testProp=function(e){return s([e])},h.testAllProps=u,h.testStyles=R,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" modernizr-js modernizr-"+L.join(" modernizr-"):""),h}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==g.call(e)}function o(e){return"string"==typeof e}function i(){}function a(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=v.shift();y=1,e?e.t?h(function(){("c"==e.t?f.injectCss:f.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):y=0}function c(e,n,r,o,i,c,u){function l(t){if(!p&&a(d.readyState)&&(_.r=p=1,!y&&s(),d.onload=d.onreadystatechange=null,t)){"img"!=e&&h(function(){b.removeChild(d)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var u=u||f.errorTimeout,d=t.createElement(e),p=0,g=0,_={t:r,s:n,e:i,a:c,x:u};1===T[n]&&(g=1,T[n]=[]),"object"==e?d.data=n:(d.src=n,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){l.call(this,g)},v.splice(o,0,_),"img"!=e&&(g||2===T[n]?(b.insertBefore(d,w?null:m),h(l,u)):T[n].push(d))}function u(e,t,n,r,i){return y=0,t=t||"j",o(e)?c("c"==t?A:x,e,t,this.i++,n,r,i):(v.splice(this.i++,0,e),1==v.length&&s()),this}function l(){var e=f;return e.loader={load:u,i:0},e}var d,f,p=t.documentElement,h=e.setTimeout,m=t.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,_="MozAppearance"in p.style,w=_&&!!t.createRange().compareNode,b=w?p:m.parentNode,p=e.opera&&"[object Opera]"==g.call(e.opera),p=!!t.attachEvent&&!p,x=_?"object":p?"script":"img",A=p?"script":x,E=Array.isArray||function(e){return"[object Array]"==g.call(e)},C=[],T={},j={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};f=function(e){function t(e){var t,n,r,e=e.split("!"),o=C.length,i=e.pop(),a=e.length,i={url:i,origUrl:i,prefixes:e};for(n=0;a>n;n++)r=e[n].split("="),(t=j[r.shift()])&&(i=t(i,r));for(n=0;o>n;n++)i=C[n](i);return i}function a(e,o,i,a,s){var c=t(e),u=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(o&&(o=r(o)?o:o[e]||o[a]||o[e.split("/").pop().split("?")[0]]),c.instead?c.instead(e,o,i,a,s):(T[c.url]?c.noexec=!0:T[c.url]=1,i.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(r(o)||r(u))&&i.load(function(){l(),o&&o(c.origUrl,s,a),u&&u(c.origUrl,s,a),T[c.url]=2})))}function s(e,t){function n(e,n){if(e){if(o(e))n||(d=function(){var e=[].slice.call(arguments);f.apply(this,e),p()}),a(e,d,t,0,u);else if(Object(e)===e)for(c in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(c)&&(!n&&!--s&&(r(d)?d=function(){var e=[].slice.call(arguments);f.apply(this,e),p()}:d[c]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),p()}}(f[c])),a(e[c],d,t,c,u))}else!n&&p()}var s,c,u=!!e.test,l=e.load||e.both,d=e.callback||i,f=d,p=e.complete||i;n(u?e.yep:e.nope,!!l),l&&n(l)}var c,u,d=this.yepnope.loader;if(o(e))a(e,0,d,0);else if(E(e))for(c=0;c<e.length;c++)u=e[c],o(u)?a(u,0,d,0):E(u)?f(u):Object(u)===u&&s(u,d);else Object(e)===e&&s(e,d)},f.addPrefix=function(e,t){j[e]=t},f.addFilter=function(e){C.push(e)},f.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,r,o,c,u){var l,d,p=t.createElement("script"),o=o||f.errorTimeout;p.src=e;for(d in r)p.setAttribute(d,r[d]);n=u?s:n||i,p.onreadystatechange=p.onload=function(){!l&&a(p.readyState)&&(l=1,n(),p.onload=p.onreadystatechange=null)},h(function(){l||(l=1,n(1))},o),c?p.onload():m.parentNode.insertBefore(p,m)},e.yepnope.injectCss=function(e,n,r,o,a,c){var u,o=t.createElement("link"),n=c?s:n||i;o.href=e,o.rel="stylesheet",o.type="text/css";for(u in r)o.setAttribute(u,r[u]);a||(m.parentNode.insertBefore(o,m),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},jQuery&&jQuery.noConflict(),function(e){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),function(e){var t=navigator.userAgent.toLowerCase();e.os={Linux:/linux/.test(t),Unix:/x11/.test(t),Mac:/mac/.test(t),Windows:/win/.test(t)},e.os.name=e.os.Windows?"Windows":e.os.Linux?"Linux":e.os.Unix?"Unix":e.os.Mac?"Mac":"",window.XE={loaded_popup_menus:[],addedDocument:[],checkboxToggleAll:function(t){is_def(t)||(t="cart");var n,r={wrap:null,checked:"toggle",doClick:!1};switch(arguments.length){case 1:"string"==typeof arguments[0]?t=arguments[0]:(e.extend(r,arguments[0]||{}),t="cart");break;case 2:t=arguments[0],e.extend(r,arguments[1]||{})}r.doClick===!0&&(r.checked=null),"string"==typeof r.wrap&&(r.wrap="#"+r.wrap),n=r.wrap?e(r.wrap).find('input[name="'+t+'"]:checkbox'):e('input[name="'+t+'"]:checkbox'),"toggle"==r.checked?n.each(function(){e(this).attr("checked",e(this).attr("checked")?!1:!0)}):r.doClick===!0?n.click():n.attr("checked",r.checked)},displayPopupMenu:function(t,n,r){var o=(r.target_srl,r.menu_id),i=t.menus,a="";if(this.loaded_popup_menus[o])a=this.loaded_popup_menus[o];else{if(i){var s=i.item;if(("undefined"==typeof s.length||s.length<1)&&(s=new Array(s)),s.length)for(var c=0;c<s.length;c++){var u=s[c].url,l=s[c].str,d=(s[c].icon,s[c].target),f="",p="";switch(d){case"popup":p="onclick=\"popopen(this.href, '"+d+"'); return false;\"";break;case"javascript":p='onclick="'+u+'; return false; "',u="#";break;default:p='target="_blank"'}a+="<li "+f+'><a href="'+u+'" '+p+">"+l+"</a></li> "}}this.loaded_popup_menus[o]=a}if(a){var h=e("#popup_menu_area").html("<ul>"+a+"</ul>"),m={top:r.page_y,left:r.page_x};h.outerHeight()+m.top>e(window).height()+e(window).scrollTop()&&(m.top=e(window).height()-h.outerHeight()+e(window).scrollTop()),h.outerWidth()+m.left>e(window).width()+e(window).scrollLeft()&&(m.left=e(window).width()-h.outerWidth()+e(window).scrollLeft()),h.css({top:m.top,left:m.left}).show().focus()}}}}(jQuery),jQuery(function(e){e.browser.msie&&e("select").each(function(e,t){for(var n=!1,r=[],o=0;o<t.options.length;o++)t.options[o].disabled?(t.options[o].style.color="#CCCCCC",n=!0):r[e]=r[e]>-1?r[e]:o;n&&(t.oldonchange=t.onchange,t.onchange=function(){this.options[this.selectedIndex].disabled?this.selectedIndex=r[e]:this.oldonchange&&this.oldonchange()},t.selectedIndex>=0&&t.options[t.selectedIndex].disabled&&t.onchange())});var t=e(".xe_content .fold_button");if(t.size()){var n=e("div.fold_container",t);e("button.more",t).click(function(){e(this).hide().next("button").show().parent().next(n).show()}),e("button.less",t).click(function(){e(this).hide().prev("button").show().parent().next(n).hide()})}jQuery('input[type="submit"],button[type="submit"]').click(function(e){var t=jQuery(e.currentTarget);setTimeout(function(){return function(){t.attr("disabled","disabled")}}(),0),setTimeout(function(){return function(){t.removeAttr("disabled")}}(),3e3)})}),function(){function e(e,t){return e.replace(/#.*$/,"")===t.replace(/#.*$/,"")}var t=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};String.prototype.getQuery=function(t){var n=e(this,window.location.href)?current_url:this,r=n.indexOf("?");if(-1==r)return null;var o=n.substr(r+1,this.length),i={};o.replace(/([^=]+)=([^&]*)(&|$)/g,function(){i[arguments[1]]=arguments[2]});var a=i[t];return"undefined"==typeof a&&(a=""),a},String.prototype.setQuery=function(n,r){var o,i,a,s,c,u=e(this,window.location.href)?current_url:this,l=u.indexOf("?"),d=u.replace(/#$/,"");if("undefined"==typeof r&&(r=""),-1!=l){var f={},p=[];c=d.substr(l+1,u.length),d=u.substr(0,l),c.replace(/([^=]+)=([^&]*)(&|$)/g,function(e,t,n){f[t]=n}),f[n]=r;for(var h in f)f.hasOwnProperty(h)&&(a=String(f[h]).trim())&&p.push(h+"="+decodeURI(a));c=p.join("&"),d+=c?"?"+encodeURI(c):""}else String(r).trim()&&(c="?"+n+"="+r,
d+=encodeURI(c));i=/^https:\/\/([^:\/]+)(:\d+|)/i,i.test(d)&&(s="http://"+RegExp.$1,window.http_port&&80!=http_port&&(s+=":"+http_port),d=d.replace(i,s));var m=!!window.enforce_ssl;if(!m&&t(window.ssl_actions)&&(o=d.getQuery("act")))for(var g=0,v=ssl_actions.length;v>g;g++)if(ssl_actions[g]===o){m=!0;break}return i=/http:\/\/([^:\/]+)(:\d+|)/i,m&&i.test(d)&&(s="https://"+RegExp.$1,window.https_port&&443!=https_port&&(s+=":"+https_port),d=d.replace(i,s)),d=d.replace(/\/(index\.php)?\?/,"/index.php?")},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}}();var winopen_list=[],objForSavedDoc=null,addedDocument=[],Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,r,o,i,a,s,c="",u=0;for(e=Base64._utf8_encode(e);u<e.length;)t=e.charCodeAt(u++),n=e.charCodeAt(u++),r=e.charCodeAt(u++),o=t>>2,i=(3&t)<<4|n>>4,a=(15&n)<<2|r>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),c=c+this._keyStr.charAt(o)+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return c},decode:function(e){var t,n,r,o,i,a,s,c="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)o=this._keyStr.indexOf(e.charAt(u++)),i=this._keyStr.indexOf(e.charAt(u++)),a=this._keyStr.indexOf(e.charAt(u++)),s=this._keyStr.indexOf(e.charAt(u++)),t=o<<2|i>>4,n=(15&i)<<4|a>>2,r=(3&a)<<6|s,c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(n)),64!=s&&(c+=String.fromCharCode(r));return c=Base64._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t="",n=0,r=0,o=0,i=0;n<e.length;)r=e.charCodeAt(n),128>r?(t+=String.fromCharCode(r),n++):r>191&&224>r?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),i=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&i),n+=3);return t}};"undefined"==typeof resizeImageContents&&(window.resizeImageContents=function(){}),"undefined"==typeof activateOptionDisabled&&(window.activateOptionDisabled=function(){}),objectExtend=jQuery.extend;var loaded_popup_menus=XE.loaded_popup_menus;jQuery(function(e){e(document).on("click",function(t){var n=e("#popup_menu_area");n.length||(n=e('<div id="popup_menu_area" tabindex="0" style="display:none;z-index:9999" />').appendTo(document.body)),n.hide();var r=e(t.target).filter("a,div,span");if(r.length||(r=e(t.target).closest("a,div,span")),r.length){var o,i=r.attr("class");if(i&&(o=i.match(new RegExp("(?:^| )((document|comment|member)_([1-9]\\d*))(?: |$)",""))),o){if(void 0===t.pageX||void 0===t.pageY){var a=t.originalEvent.touches[0];void 0===a&&a||(a=t.originalEvent.changedTouches[0]),t.pageX=a.pageX,t.pageY=a.pageY}var s="get"+ucfirst(o[2])+"Menu",c={mid:current_mid,cur_mid:current_mid,menu_id:o[1],target_srl:o[3],cur_act:current_url.getQuery("act"),page_x:t.pageX,page_y:t.pageY},u="error message menus".split(" ");if(t.preventDefault(),t.stopPropagation(),is_def(window.xeVid)&&(c.vid=xeVid),is_def(XE.loaded_popup_menus[c.menu_id]))return XE.displayPopupMenu(c,u,c);show_waiting_message=!1,exec_xml("member",s,c,XE.displayPopupMenu,u,c),show_waiting_message=!0}}}),e("a._xe_popup").click(function(){var t,n=e(this),r=n.attr("name"),o=n.attr("href");return r||(r="_xe_popup_"+Math.floor(1e3*Math.random())),t=window.open(o,r,"left=10,top=10,width=10,height=10,resizable=no,scrollbars=no,toolbars=no"),t&&t.focus(),!1}),e.datepicker&&e.datepicker.setDefaults({dateFormat:"yy-mm-dd"})}),function(e){function t(){var t=function(){var t=this;e.isArray(this._plugins)&&(this._plugins=[]),this._messages?this._messages={}:this._binded_fn={},e.each(this,function(n,r){if(!e.isFunction(r))return!0;if(!/^API_([A-Z0-9_]+)$/.test(n))return!0;var o=RegExp.$1,i=function(e,r){return t[n](e,r)};t._messages?t._messages[o]=[i]:t._binded_fn[o]=i}),e.isFunction(this.init)&&this.init.apply(this,arguments)};return t}var n,r,o,i=[];n={getName:function(){return"Core"},createApp:function(n,o){var i=t();return e.extend(i.prototype,r,o),i.prototype.getName=function(){return n},i},createPlugin:function(n,r){var i=t();return e.extend(i.prototype,o,r),i.prototype.getName=function(){return n},i},getApps:function(){return e.makeArray(i)},getApp:function(e){return e=(e||"").toLowerCase(),"undefined"!=typeof i[e]?i[e]:null},registerApp:function(t){var n=t.getName().toLowerCase();i.push(t),e.isArray(i[n])||(i[n]=[]),i[n].push(t),t.parent=this,e.isFunction(t.activate)&&t.activate()},unregisterApp:function(t){var n=t.getName().toLowerCase(),r=e.inArray(t,i);r>=0&&(i=i.splice(r,1)),e.isArray(i[n])&&(r=e.inArray(t,i[n]),r>=0&&(i[n]=i[n].splice(r,1))),e.isFunction(t.deactivate)&&t.deactivate()},broadcast:function(e,t){this._broadcast(this,e,t)},_broadcast:function(e,t,n){for(var r=0;r<i.length;r++)i[r]._cast(e,t,n);this._cast(e,t,n)}},r={_plugins:[],_messages:{},getPlugin:function(t){return t=t.toLowerCase(),e.isArray(this._plugins[t])?this._plugins[t]:[]},registerPlugin:function(t){var n=this,r=t.getName().toLowerCase();return e.inArray(t,this._plugins)>=0?!1:(this._plugins.push(t),e.isArray(this._plugins[r])||(this._plugins[r]=[]),this._plugins[r].push(t),e.each(t._binded_fn,function(e,t){n.registerHandler(e,t)}),t.oApp=this,e.isFunction(t.activate)&&t.activate(),!0)},registerHandler:function(t,n){var r=this._messages;t=t.toUpperCase(),e.isArray(r[t])||(r[t]=[]),r[t].push(n)},cast:function(e,t){return this._cast(this,e,t||[])},broadcast:function(e,t,n){this.parent&&this.parent._broadcast&&this.parent._broadcast(e,t,n)},_cast:function(t,n,r){var o,i=this._messages;if(n=n.toUpperCase(),i["BEFORE_"+n]||this["API_BEFORE_"+n]){var a=this._cast(t,"BEFORE_"+n,r);if(!a)return}var s=[];if(e.isArray(i[n]))for(o=0;o<i[n].length;o++)s.push(i[n][o](t,r));return s.length<2&&(s=s[0]),(i["AFTER_"+n]||this["API_AFTER_"+n])&&this._cast(t,"AFTER_"+n,r),/^(?:AFTER|BEFORE)_/.test(n)?e.isArray(s)?e.inArray(!1,s)<0:"undefined"==typeof s?!0:!!s:s}},o={oApp:null,cast:function(e,t){return this.oApp&&this.oApp._cast?this.oApp._cast(this,e,t||[]):void 0},broadcast:function(e,t){this.oApp&&this.oApp.broadcast&&this.oApp.broadcast(this,mag,t||[])}},window.xe=e.extend(r,n),window.xe.lang={},e(function(){xe.broadcast("ONREADY")}),e(window).load(function(){xe.broadcast("ONLOAD")})}(jQuery);var show_waiting_message=!0;!function(e){function t(t,n){var r="xeTmpIframe",o="xeVirtualForm";e("#"+r).length||e('<iframe name="%id%" id="%id%" style="position:absolute;left:-1px;top:1px;width:1px;height:1px"></iframe>'.replace(/%id%/g,r)).appendTo(document.body),e("#"+o).remove();var i=e('<form id="%id%"></form>'.replace(/%id%/g,o)).attr({id:o,method:"post",action:t,target:r});n.xeVirtualRequestMethod="xml",n.xeRequestURI=location.href.replace(/#(.*)$/i,""),n.xeVirtualRequestUrl=request_uri,e.each(n,function(t,n){e('<input type="hidden">').attr("name",t).attr("value",n).appendTo(i)}),i.appendTo(document.body).submit()}function n(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function r(){return""}e.exec_xml=window.exec_xml=function(r,o,i,a,s,c,u){function l(t){var n,i=e(t).find("response")[0],l="",d=[],f={},p="";if(x.css("display","none").trigger("cancel_confirm"),!i)return alert(w.responseText),null;if(p=xml2json(i,!1,!1),n=jQuery.parseJSON(p),n=n.response,"undefined"==typeof n){d.error=-1,d.message="Unexpected error occured.";try{"undefined"!=typeof(l=i.childNodes[0].firstChild.data)&&(d.message+="\r\n"+l)}catch(h){}return d}return e.each(s,function(e,t){f[t]=!0}),f.redirect_url=!0,f.act=!0,e.each(n,function(e,t){f[e]&&(d[e]=t)}),"0"!=d.error?e.isFunction(e.exec_xml.onerror)?e.exec_xml.onerror(r,o,d,a,s,c,u):(alert((d.message||"An unknown error occured while loading ["+r+"."+o+"]").replace(/\\n/g,"\n")),null):d.redirect_url?(location.href=d.redirect_url.replace(/&amp;/g,"&"),null):void(e.isFunction(a)&&a(d,s,c,u))}var d=request_uri+"index.php";if(i||(i={}),e.isArray(i)&&(i=n(i)),i.module=r,i.act=o,"undefined"!=typeof xeVid&&(i.vid=xeVid),"undefined"==typeof s||s.length<1?s=["error","message"]:s.push("error","message"),e.isArray(ssl_actions)&&i.act&&e.inArray(i.act,ssl_actions)>=0){var f=default_url||request_uri,p=window.https_port||443,h=e("<a>").attr("href",f)[0],m="https://"+h.hostname.replace(/:\d+$/,"");443!=p&&(m+=":"+p),"/"!=h.pathname[0]&&(m+="/"),m+=h.pathname,d=m.replace(/\/$/,"")+"/index.php"}var g=e("<a>").attr("href",location.href)[0],v=e("<a>").attr("href",d)[0];if(g.protocol!=v.protocol||g.port!=v.port)return t(d,i);var y=[],_=function(t){var n=[];return e.isArray(t)?e.each(t,function(e,t){n.push('<value type="array">'+_(t)+"</value>")}):e.isPlainObject(t)?e.each(t,function(e,t){n.push("<"+e+">"+_(t)+"</"+e+">")}):e.isFunction(t)||n.push("<![CDATA["+t+"]]>"),n.join("\n")};y.push('<?xml version="1.0" encoding="utf-8" ?>'),y.push("<methodCall>"),y.push("<params>"),y.push(_(i)),y.push("</params>"),y.push("</methodCall>");var w=null;w&&0!==w.readyState&&w.abort();try{e.ajax({url:d,type:"POST",dataType:"xml",data:y.join("\n"),contentType:"text/plain",beforeSend:function(e){w=e},success:l,error:function(e,t){x.css("display","none");var n="";if("parsererror"==t){if(n="The result is not valid XML :\n-------------------------------------\n",""===e.responseText)return;n+=e.responseText.replace(/<[^>]+>/g,"")}else n=t;try{console.log(n)}catch(r){}}})}catch(b){return void alert(b)}var x=e(".wfsr");if(show_waiting_message&&x.length){var A=e(".wfsr").data("timeout_id");A&&clearTimeout(A),e(".wfsr").css("opacity",0),e(".wfsr").data("timeout_id",setTimeout(function(){e(".wfsr").css("opacity","")},1e3)),x.html(waiting_message).show()}},e.exec_json=window.exec_json=function(t,n,r,o){if("undefined"==typeof n&&(n={}),t=t.split("."),2==t.length){var i=e(".wfsr").data("timeout_id");i&&clearTimeout(i),e(".wfsr").css("opacity",0),e(".wfsr").data("timeout_id",setTimeout(function(){e(".wfsr").css("opacity","")},1e3)),show_waiting_message&&e(".wfsr").html(waiting_message).show(),e.extend(n,{module:t[0],act:t[1]}),"undefined"!=typeof xeVid&&e.extend(n,{vid:xeVid});try{e.ajax({type:"POST",dataType:"json",url:request_uri,contentType:"application/json",data:e.param(n),success:function(t){return e(".wfsr").hide().trigger("cancel_confirm"),"0"!=t.error&&t.error>-1e3?-1==t.error&&"msg_is_not_administrator"==t.message?(alert("You are not logged in as an administrator"),void(e.isFunction(o)&&o(t))):(alert(t.message),void(e.isFunction(o)&&o(t))):void(e.isFunction(r)&&r(t))},error:function(t,n){e(".wfsr").hide();var r="";if("parsererror"==n){if(r="The result is not valid JSON :\n-------------------------------------\n",""===t.responseText)return;r+=t.responseText.replace(/<[^>]+>/g,"")}else r=n;try{console.log(r)}catch(o){}}})}catch(a){return void alert(a)}}},e.fn.exec_html=function(t,n,r,o,i){"undefined"==typeof n&&(n={}),e.inArray(r,["html","append","prepend"])||(r="html");var a=e(this);if(t=t.split("."),2==t.length){var s=e(".wfsr").data("timeout_id");s&&clearTimeout(s),e(".wfsr").css("opacity",0),e(".wfsr").data("timeout_id",setTimeout(function(){e(".wfsr").css("opacity","")},1e3)),show_waiting_message&&e(".wfsr").html(waiting_message).show(),e.extend(n,{module:t[0],act:t[1]});try{e.ajax({type:"POST",dataType:"html",url:request_uri,data:e.param(n),success:function(t){e(".wfsr").hide().trigger("cancel_confirm"),a[r](t),e.isFunction(o)&&o(i)},error:function(t,n){e(".wfsr").hide();var r="";if("parsererror"==n){if(r="The result is not valid page :\n-------------------------------------\n",""===t.responseText)return;r+=t.responseText.replace(/<[^>]+>/g,"")}else r=n;try{console.log(r)}catch(o){}}})}catch(c){return void alert(c)}}},e(function(e){e(document).ajaxStart(function(){e(window).bind("beforeunload",r)}).bind("ajaxStop cancel_confirm",function(){e(window).unbind("beforeunload",r)})})}(jQuery),function(e){function t(e){var t=[];return e.is(":radio")?e.filter(":checked").val():e.is(":checkbox")?(e.filter(":checked").each(function(){t.push(this.value)}),t.join("|@|")):e.val()}function n(e){if(e+="",!e.length)return 0;e=encodeURI(e);var t=e.split("%").length-1;return e.length-2*t}var r=[],o=[],i={},a=[],s={},c=xe.createApp("Validator",{init:function(){var e=/^[\w-]+((?:\.|\+|\~)[\w-]+)*@[\w-]+(\.[\w-]+)+$/;this.cast("ADD_RULE",["email",e]),this.cast("ADD_RULE",["email_address",e]);var t=/^[a-z]+[\w-]*[a-z0-9_]+$/i;this.cast("ADD_RULE",["userid",t]),this.cast("ADD_RULE",["user_id",t]);var n=/^(https?|ftp|mms):\/\/[0-9a-z-]+(\.[_0-9a-z-]+)+(:\d+)?/;this.cast("ADD_RULE",["url",n]),this.cast("ADD_RULE",["homepage",n]);var r=new RegExp("^[가-힣]*$");this.cast("ADD_RULE",["korean",r]);var o=new RegExp("^[가-힣0-9]*$");this.cast("ADD_RULE",["korean_number",o]);var i=/^[a-z]*$/i;this.cast("ADD_RULE",["alpha",i]);var a=/^[a-z][a-z0-9_]*$/i;this.cast("ADD_RULE",["alpha_number",a]);var s=/^[0-9]*$/;this.cast("ADD_RULE",["number",s])},run:function(e){var t="";e._filter&&(t=e._filter.value);var n=[e,t],r=this.cast("VALIDATE",n);return"undefined"==typeof r&&(r=!1),r},API_ONREADY:function(){var t=this;e("form").each(function(){this.onsubmit&&(this["xe:onsubmit"]=this.onsubmit,this.onsubmit=null)}).submit(function(n){var r=this["xe:onsubmit"],o=e.isFunction(r),i=o?r.apply(this):t.run(this);return i||n.stopImmediatePropagation(),i})},API_VALIDATE:function(r,o){function c(e){return e.replace(/([\.\+\-\[\]\{\}\(\)\\])/g,"\\$1")}var u,l,d,p,h,m,g,v,y,_,w,b,x,A,E,C,T,j,k,S,D,L,P,R=!0,Q=o[0],O=Q.elements;if(O.ruleset?u=Q.elements.ruleset.value:O._filter&&(u=Q.elements._filter.value),!u)return!0;for(e.isFunction(a[u])&&(d=a[u]),u=e.extend({},i[u.toLowerCase()]||{},s),p=[],k=0,S=Q.elements.length;S>k;k++)g=O[k],m=g.name,m&&O[m]&&(O[m].length&&O[m][0]!==g||p.push(m));p=p.join("\n"),l={};for(m in u)if(u.hasOwnProperty(m)&&(h=[],"^"==m.substr(0,1))){for(h=p.match(new RegExp("^"+c(m.substr(1))+".*$","gm")),h||(h=[]),k=0,S=h.length;S>k;k++)l[h[k]]=u[m];u[m]=null,delete u[m]}u=e.extend(u,l);for(m in u)if(u.hasOwnProperty(m)&&(f=u[m],g=O[m],g||(g=O[m+"[]"]),v=g?e.trim(t(e(g))):"",y=(f.modifier||"")+",",g&&!g.disabled)){if(f["if"])for(e.isArray(f["if"])||(f["if"]=[f["if"]]),k=0;k<f["if"].length;k++)L=f["if"][k],P=new Function("el","return !!("+L.test.replace(/\$(\w+)/g,"(jQuery('[name=$1]').is(':radio, :checkbox') ? jQuery('[name=$1]:checked').val() : jQuery('[name=$1]').val())")+")"),P(O)?f[L.attr]=L.value:delete f[L.attr];if(v){if(x=parseInt(f.minlength)||0,b=parseInt(f.maxlength)||0,E=/b$/.test(f.minlength||""),A=/b$/.test(f.maxlength||""),_=v.length,(E||A)&&(w=n(v)),x&&x>(E?w:_)||b&&(A?w:_)>b)return this.cast("ALERT",[Q,m,"outofrange",x,b])&&!1;if(f.equalto&&(T=O[f.equalto],j=T?e.trim(t(e(T))):"",T&&j!==v))return this.cast("ALERT",[Q,m,"equalto"])&&!1;for(C=(f.rule||"").split(","),k=0,S=C.length;S>k;k++)if((D=C[k])&&(R=this.cast("APPLY_RULE",[D,v]),y.indexOf("not,")>-1&&(R=!R),!R))return this.cast("ALERT",[Q,m,"invalid_"+D])&&!1}else if(f["default"]&&(v=f["default"]),f.required)return this.cast("ALERT",[Q,m,"isnull"])&&!1}return e.isFunction(d)?d(Q):!0},API_ADD_RULE:function(e,t){var n=t[0].toLowerCase();o[n]=t[1]},API_DEL_RULE:function(e,t){var n=t[0].toLowerCase();delete o[n]},API_GET_RULE:function(e,t){var n=t[0].toLowerCase();return o[n]?o[n]:null},API_ADD_FILTER:function(e,t){var n=t[0].toLowerCase(),r=t[1];i[n]=r},API_DEL_FILTER:function(e,t){var n=t[0].toLowerCase();delete i[n]},API_GET_FILTER:function(e,t){var n=t[0].toLowerCase();return i[n]?i[n]:null},API_ADD_EXTRA_FIELD:function(e,t){var n=t[0].toLowerCase(),r=t[1];s[n]=r},API_GET_EXTRA_FIELD:function(e,t){var n=t[0].toLowerCase();return s[n]},API_DEL_EXTRA_FIELD:function(e,t){var n=t[0].toLowerCase();delete s[n]},API_APPLY_RULE:function(t,n){var r=n[0],i=n[1];return"undefined"==typeof o[r]?!0:e.isFunction(o[r])?o[r](i):o[r]instanceof RegExp?o[r].test(i):e.isArray(o[r])?e.inArray(i,o[r])>-1:!0},API_ALERT:function(t,n){var r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],c=this.cast("GET_MESSAGE",[o]),u=this.cast("GET_MESSAGE",[i]);u!=i&&(u=u.indexOf("%s")<0?c+u:u.replace("%s",c)),(a||s)&&(u+="("+(a||"")+"~"+(s||"")+")"),this.cast("SHOW_ALERT",[u]),e(r.elements[o]).focus()},API_SHOW_ALERT:function(e,t){alert(t[0])},API_ADD_MESSAGE:function(e,t){var n=t[0],o=t[1];r[n]=o},API_GET_MESSAGE:function(e,t){var n=t[0];return r[n]||n},API_ADD_CALLBACK:function(e,t){var n=t[0],r=t[1];a[n]=r},API_REMOVE_CALLBACK:function(e,t){var n=t[0];delete a[n]}}),u=new c;xe.registerApp(u);var l=xe.createPlugin("editor_stub",{API_BEFORE_VALIDATE:function(e,t){var n=t[0],r=n.getAttribute("editor_sequence");if(r&&"object"==typeof r&&(r=r.value),r)try{editorRelKeys[r].content.value=editorRelKeys[r].func(r)||""}catch(o){}}});u.registerPlugin(new l)}(jQuery);
